@model Danime.Models.AnimeData.Root

<form method="get" action="@Url.Action("Search", "Anime")">
    <input type="text" name="search" placeholder="Search Anime" required />
    <button type="submit">Search</button>
</form>

@if (Model != null && Model.data.Any())
{
    <div class="anime-list">
        @foreach (var anime in Model.data)
        {
            <div class="anime-item">
                <h3>@anime.title</h3>

                <!-- Display the image if available -->
                @if (anime.images?.jpg?.image_url != null)
                {
                    <img src="@anime.images.jpg.image_url" alt="@anime.title" />
                }
                else
                {
                    <p>No image available</p>
                }

                <!-- Display the synopsis -->
                <p>@anime.synopsis</p>

                <!-- Display the trailer if available -->
                @if (anime.trailer != null && !string.IsNullOrEmpty(anime.trailer.embed_url))
                {
                    <iframe width="560" height="315"
                            src="@anime.trailer.embed_url"
                            frameborder="0" allowfullscreen>
                    </iframe>
                }

                <!-- Display genres -->
                <p>
                    <strong>Genres:</strong>
                    @foreach (var genre in anime.genres)
                    {
                        <span>@genre.name</span>
                    }
                </p>

                <!-- Display airing status -->
                <p><strong>Status:</strong> @anime.status</p>

                <!-- Display score -->
                <p><strong>Score:</strong> @anime.score</p>

                <!-- Display number of episodes -->
                @if (anime.episodes.HasValue)
                {
                    <p><strong>Episodes:</strong> @anime.episodes</p>
                }

                <!-- Display other details if needed -->
                <p><strong>Type:</strong> @anime.type</p>
            </div>
        }
    </div>
}
else
{
    <p>No anime found. Please try another search.</p>
}
